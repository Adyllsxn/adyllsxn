{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///home/adyllsxn/Dev/Adyllsxn/portfolio/src/app/api/contact/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport nodemailer from 'nodemailer';\n\nexport async function POST(request: Request) {\n  try {\n    console.log('üîµ API Contact chamada');\n    \n    const body = await request.json();\n    console.log('üì® Dados recebidos:', body);\n\n    const { name, email, subject, message } = body;\n\n    // Valida√ß√£o dos campos\n    if (!name || !email || !subject || !message) {\n      console.log('‚ùå Campos faltando');\n      return NextResponse.json(\n        { error: 'Todos os campos s√£o obrigat√≥rios' },\n        { status: 400 }\n      );\n    }\n\n    // Verifica se as vari√°veis de ambiente existem\n    if (!process.env.EMAIL_USER || !process.env.EMAIL_PASS) {\n      console.error('‚ùå Vari√°veis de ambiente n√£o configuradas');\n      return NextResponse.json(\n        { error: 'Configura√ß√£o de email n√£o encontrada' },\n        { status: 500 }\n      );\n    }\n\n    console.log('‚úÖ Configurando transporter...');\n    \n    // Configura o email\n    const transporter = nodemailer.createTransport({\n      service: 'gmail',\n      auth: {\n        user: process.env.EMAIL_USER,\n        pass: process.env.EMAIL_PASS,\n      },\n    });\n\n    console.log('‚úÖ Preparando email...');\n\n    const mailOptions = {\n      from: process.env.EMAIL_USER,\n      to: 'domingos.nxscimento@gmail.com',\n      subject: `üìß Nova mensagem: ${subject}`,\n      html: `\n        <div style=\"font-family: Arial, sans-serif; padding: 20px;\">\n          <h2 style=\"color: #2563eb;\">Nova Mensagem do Portf√≥lio</h2>\n          <div style=\"background: #f3f4f6; padding: 15px; border-radius: 8px;\">\n            <p><strong>üë§ Nome:</strong> ${name}</p>\n            <p><strong>üìß Email:</strong> ${email}</p>\n            <p><strong>üéØ Assunto:</strong> ${subject}</p>\n            <p><strong>üí¨ Mensagem:</strong></p>\n            <div style=\"background: white; padding: 10px; border-left: 4px solid #2563eb; margin-top: 10px;\">\n              ${message.replace(/\\n/g, '<br>')}\n            </div>\n          </div>\n        </div>\n      `,\n    };\n\n    console.log('‚úÖ Enviando email...');\n    await transporter.sendMail(mailOptions);\n    console.log('üéâ Email enviado com sucesso!');\n\n    return NextResponse.json(\n      { success: true, message: 'Mensagem enviada com sucesso!' },\n      { status: 200 }\n    );\n\n  } catch (error) {\n    console.error('üí• Erro no servidor:', error);\n    return NextResponse.json(\n      { error: 'Erro interno do servidor ao enviar email' },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,QAAQ,GAAG,CAAC;QAEZ,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,QAAQ,GAAG,CAAC,uBAAuB;QAEnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG;QAE1C,uBAAuB;QACvB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS;YAC3C,QAAQ,GAAG,CAAC;YACZ,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAmC,GAC5C;gBAAE,QAAQ;YAAI;QAElB;QAEA,+CAA+C;QAC/C,IAAI,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI,CAAC,QAAQ,GAAG,CAAC,UAAU,EAAE;YACtD,QAAQ,KAAK,CAAC;YACd,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuC,GAChD;gBAAE,QAAQ;YAAI;QAElB;QAEA,QAAQ,GAAG,CAAC;QAEZ,oBAAoB;QACpB,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC7C,SAAS;YACT,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC9B;QACF;QAEA,QAAQ,GAAG,CAAC;QAEZ,MAAM,cAAc;YAClB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI;YACJ,SAAS,CAAC,kBAAkB,EAAE,SAAS;YACvC,MAAM,CAAC;;;;yCAI4B,EAAE,KAAK;0CACN,EAAE,MAAM;4CACN,EAAE,QAAQ;;;cAGxC,EAAE,QAAQ,OAAO,CAAC,OAAO,QAAQ;;;;MAIzC,CAAC;QACH;QAEA,QAAQ,GAAG,CAAC;QACZ,MAAM,YAAY,QAAQ,CAAC;QAC3B,QAAQ,GAAG,CAAC;QAEZ,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAM,SAAS;QAAgC,GAC1D;YAAE,QAAQ;QAAI;IAGlB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA2C,GACpD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}